window.Hammer=function(t){"use strict";function t(t,e){return new n(t,e||{})}function e(){t.READY||(r.onTouch(window,t.TOUCH_MOVE,o.detect),r.onTouch(window,t.TOUCH_END,o.endDetect),t.READY=!0)}function n(n,c){var u=this;this.element=n,this.options=i.extend(t.defaults,c),e(),r.onTouch(n,t.TOUCH_START,function(t){o.startDetect(u,t)})}t.defaults={},t.HAS_TOUCHEVENTS="ontouchstart"in window,t.DIRECTION_DOWN=1,t.DIRECTION_LEFT=2,t.DIRECTION_UP=3,t.DIRECTION_RIGHT=4,t.TOUCH_START=1,t.TOUCH_MOVE=2,t.TOUCH_END=3,t.READY=!1,n.prototype.trigger=function(t,e){return r.trigger(this.element,t,e)},n.prototype.on=function(t,e){return r.on(this.element,t,e)},n.prototype.off=function(t,e){return r.off(this.element,t,e)};var r=t.event={on:function(t,e,n){e=e.split(" ");for(var r=0;e.length>r;r++)t.addEventListener(e[r],n,!1)},off:function(t,e,n){e=e.split(" ");for(var r=0;e.length>r;r++)t.removeEventListener(e[r],n,!1)},trigger:function(t,e,n){var r=document.createEvent("Event");r.initEvent(e,!0,!0),r.hammer=n,t.dispatchEvent(r)},onTouch:function(e,n,i){var o=function(t){i.call(this,r.collectEventData(e,n,t))},c={};c[t.TOUCH_START]=t.HAS_TOUCHEVENTS?"touchstart":"mousedown",c[t.TOUCH_MOVE]=t.HAS_TOUCHEVENTS?"touchmove":"mousemove",c[t.TOUCH_END]=t.HAS_TOUCHEVENTS?"touchend touchcancel":"mouseup",t.HAS_TOUCHEVENTS?r.on(e,c[n],o):r.on(e,c[n],function(t){1===t.which&&o.apply(this,arguments)})},collectEventData:function(t,e,n){var r=n.touches;return r||(r=[{identifier:1,clientX:n.clientX,clientY:n.clientY,pageX:n.pageX,pageY:n.pageY,target:n.target}]),{type:e,time:Date.now(),target:n.target,touches:r,originalEvent:n,center:i.getCenter(r)}}},i=t.util={extend:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},getCenter:function(t){return t[0]},getSimpleDistance:function(t,e){return Math.abs(e-t)},getAngle:function(t,e){var n=e.pageY-t.pageY,r=e.pageX-t.pageX;return 180*Math.atan2(n,r)/Math.PI},getDistance:function(t,e){var n=e.pageX-t.pageX,r=e.pageY-t.pageY;return Math.sqrt(n*n+r*r)},getDirection:function(e){var n={DIRECTION_DOWN:e>=45&&135>e,DIRECTION_LEFT:e>=135||-135>=e,DIRECTION_UP:-45>e&&e>-135,DIRECTION_RIGHT:e>=-45&&45>=e};for(var r in n)if(n[r])return t[r];return null},getScale:function(t,e){return 2==t.length&&2==e.length?i.getDistance(e[0],e[1])/i.getDistance(t[0],t[1]):0},getRotation:function(t,e){return 2==t.length&&2==e.length?i.getAngle(e[1],e[0])-i.getAngle(t[1],t[0]):0}},o=t.gesture={gestures:[],current:null,previous:null,startDetect:function(t,e){o.current||(o.current={inst:t,startEvent:i.extend({},e),gesture:!1},o.detect(e))},detect:function(t){if(o.current){o.extendEventData(t);for(var e=0,n=o.gestures.length;n>e;e++)o.gestures[e].handle(t.type,t,o.current.inst)}},endDetect:function(t){o.detect(t),o.clear()},clear:function(){o.previous=i.extend({},o.current),o.current=null},extendEventData:function(t){var e=o.current.startEvent;return i.extend(t,{touchTime:t.time-e.time,distance:i.getDistance(e.center,t.center),distanceX:i.getSimpleDistance(e.center.pageX,t.center.pageX),distanceY:i.getSimpleDistance(e.center.pageY,t.center.pageY),direction:i.getDirection(e.center,t.center),scale:i.getScale(e.touches,t.touches),rotation:i.getRotation(e.touches,t.touches),start:e}),t},registerGesture:function(e){i.extend(t.defaults,e.defaults||{}),e.priority=e.priority||1e3,o.gestures.push(e),o.gestures.sort(function(t,e){return t.priority<e.priority?-1:t.priority>e.priority?1:0})}},c=o.gestures;return c.hold={priority:10,defaults:{hold_timeout:500},timer:null,handle:function(e,n,r){switch(e){case t.TOUCH_START:clearTimeout(c.hold.timer),o.current.gesture="hold",c.hold.timer=setTimeout(function(){"hold"==o.current.gesture&&r.trigger("hold",n)},r.options.hold_timeout);break;case t.TOUCH_MOVE:case t.TOUCH_END:clearTimeout(c.hold.timer)}}},o.registerGesture(c.hold),c.tap={priority:100,defaults:{tap_max_touchtime:100,tap_max_interval:300,tap_max_distance:5,tap_double_distance:20},handle:function(e,n,r){switch(e){case t.TOUCH_END:if(n.touchTime>r.options.tap_max_touchtime||n.distance>r.options.tap_max_distance)return;o.previous}}},o.registerGesture(c.tap),t}();