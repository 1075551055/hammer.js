/*! Hammer.JS - v2.0.0dev - 2014-06-26
 * http://eightmedia.github.io/hammer.js
 *
 * Copyright (c) 2014 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */


!function(a,b){"use strict";function c(a,c,d){var e,f;if(a.forEach)a.forEach(c,d);else if(a.length!==b)for(e=0,f=a.length;f>e;e++)c.call(d,a[e],e,a);else for(e in a)a.hasOwnProperty(e)&&c.call(d,a[e],e,a)}function d(a,c,d){for(var e=Object.keys(c),f=0,g=e.length;g>f;f++)(!d||d&&a[e[f]]===b)&&(a[e[f]]=c[e[f]]);return a}function e(a,b){return d(a,b,!0)}function f(a,b,c){var e,f=b.prototype;if(Object.create)e=a.prototype=Object.create(f),e.constructor=a;else{d(a,parent);var g=function(){this.constructor=a};g.prototype=f,e=a.prototype=new g}c&&d(e,c),e._super=f}function g(a,b){return function(){return a.apply(b,arguments)}}function h(b,c){return typeof b==ab?b.apply(c?c[0]||a:a,c):b}function i(a,b,d){c(m(b),function(b){a.addEventListener(b,d,!1)})}function j(a,b,d){c(m(b),function(b){a.removeEventListener(b,d,!1)})}function k(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function l(a,b){return a.indexOf(b)>-1}function m(a){return a.trim().split(/\s+/g)}function n(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0,e=a.length;e>d;d++)if(c&&a[d][c]==b||!c&&a[d]===b)return d;return-1}function o(a){return Array.prototype.slice.call(a,0)}function p(a,b){for(var c=[],d=[],e=0,f=a.length;f>e;e++){var g=b?a[e][b]:a[e];n(d,g)<0&&c.push(a[e]),d[e]=g}return c}function q(a,c){for(var d,e,f=c[0].toUpperCase()+c.slice(1),g=0,h=_.length;h>g;g++)if(d=_[g],e=d?d+f:c,e in a)return e;return b}function r(){return db++}function s(b,c){var d=this;this.manager=b,this.callback=c,this.domHandler=function(a){h(d.manager.options.enable,[d.manager])&&d.handler(a)},this.elEvents&&i(this.manager.element,this.elEvents,this.domHandler),this.winEvents&&i(a,this.winEvents,this.domHandler)}function t(a){var b;return new(b=fb?G:hb?H:gb?J:F)(a,u)}function u(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&nb&&d-e===0,g=b&pb&&d-e===0;c.isFirst=f,c.isFinal=g,f&&(a.session={}),c.eventType=b,v(a,c),a.recognize(c)}function v(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=x(b)),e>1&&!c.firstMultiple?c.firstMultiple=x(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=y(d);b.timeStamp=b.srcEvent.timeStamp,b.deltaTime=b.timeStamp-f.timeStamp,b.deltaX=i.x-h.x,b.deltaY=i.y-h.y,b.center=i,b.angle=C(h,i),b.distance=B(h,i),b.offsetDirection=A(b.deltaX,b.deltaY),b.scale=g?E(g.pointers,d):1,b.rotation=g?D(g.pointers,d):0;var j=a.element;k(b.srcEvent.target,j)&&(j=b.srcEvent.target),b.target=j,w(c,b)}function w(a,c){var d=a.lastInterval;d||(d=a.lastInterval=x(c));var e=c.timeStamp-d.timeStamp;if(e>mb||d.velocity===b){var f=d.deltaX-c.deltaX,g=d.deltaY-c.deltaY;d=a.lastInterval=x(c),d.velocity=z(e,f,g),d.direction=A(f,g)}var h=d.velocity;c.velocity=Math.max(h.x,h.y),c.velocityX=h.x,c.velocityY=h.y,c.direction=d.direction}function x(a){for(var b=[],c=0;c<a.pointers.length;c++)b[c]={clientX:cb(a.pointers[c].clientX),clientY:cb(a.pointers[c].clientY)};return{timeStamp:a.srcEvent.timeStamp,pointers:b,center:y(b),deltaX:a.deltaX,deltaY:a.deltaY}}function y(a){var b=a.length;if(1===b)return{x:cb(a[0].clientX),y:cb(a[0].clientY)};for(var c=0,d=0,e=0;b>e;e++)c+=a[e].clientX,d+=a[e].clientY;return{x:cb(c/b),y:cb(d/b)}}function z(a,b,c){return{x:Math.abs(b/a)||0,y:Math.abs(c/a)||0}}function A(a,b){return a===b?rb:Math.abs(a)>=Math.abs(b)?a>0?sb:tb:b>0?ub:vb}function B(a,b,c){c||(c=zb);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function C(a,b,c){c||(c=zb);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function D(a,b){return C(b[1],b[0],Ab)-C(a[1],a[0],Ab)}function E(a,b){return B(b[0],b[1],Ab)/B(a[0],a[1],Ab)}function F(){this.elEvents=Cb,this.winEvents=Db,this.allow=!0,this.pressed=!1,s.apply(this,arguments)}function G(){this.elEvents=Gb,this.winEvents=Hb,s.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function H(){this.elEvents=Jb,s.apply(this,arguments)}function I(a){var b=o(a.changedTouches),c=o(a.touches).concat(b);return[p(c,"identifier"),b]}function J(){s.apply(this,arguments),this._handler=g(this.handler,this),this.touch=new H(this.manager,this._handler),this.mouse=new F(this.manager,this._handler)}function K(a,b){this.manager=a,this.set(b)}function L(a){return l(a,Pb)?Pb:l(a,Qb)||l(a,Rb)?a.replace(/[\-\w]+/g,function(a){return/^pan\-/.test(a)?a:""}):l(a,Ob)?Ob:Nb}function M(a){this.id=r(),this.manager=null,this.options=e(a||{},this.defaults||{}),this.options.enable=this.options.enable===b?!0:this.options.enable,this.state=Yb,this.simultaneous={},this.requireFail=[]}function N(a){return a&Xb?"cancel":a&Vb?"end":a&Ub?"":a&Tb?"start":""}function O(a){return a==vb?"down":a==ub?"up":a==sb?"left":a==tb?"right":""}function P(a,b){var c=b.manager;return c?c.get(a):a}function Q(){M.apply(this,arguments)}function R(){Q.apply(this,arguments),this.pX=null,this.pY=null}function S(){Q.apply(this,arguments)}function T(){M.apply(this,arguments),this._timer=null,this._input=null}function U(){Q.apply(this,arguments)}function V(){Q.apply(this,arguments)}function W(){M.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function X(a,b){b=b||{};var d=new Y(a,b),e=d.options.recognizers;return e&&c(e,function(a){var b=d.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2])}),d}function Y(a,b){b=b||{},this.options=e(b,X.defaults),this.handlers={},this.session={},this.recognizers=[],this.element=a,this.input=t(this),this.touchAction=new K(this,this.options.touchAction),Z(this,!0)}function Z(a,b){var d=a.element,e=a.options.cssProps;c(e,function(a,c){d.style[q(d.style,c)]=b?a:""});var f=b&&function(){return!1};"none"==e.userSelect&&(d.onselectstart=f),"none"==e.userDrag&&(d.ondragstart=f)}function $(a,b){var c=document.createEvent("Event");c.initEvent(a,!0,!0),c.gesture=b,b.target.dispatchEvent(c)}var _=["","webkit","moz","MS","ms","o"],ab="function",bb="undefined",cb=Math.round,db=1,eb=/mobile|tablet|ip(ad|hone|od)|android/i,fb=q(a,"PointerEvent")!==b,gb="ontouchstart"in a,hb=gb&&eb.test(navigator.userAgent),ib="touch",jb="pen",kb="mouse",lb="kinect",mb=25,nb=1,ob=2,pb=4,qb=8,rb=1,sb=2,tb=4,ub=8,vb=16,wb=sb|tb,xb=ub|vb,yb=wb|xb,zb=["x","y"],Ab=["clientX","clientY"];s.prototype={destroy:function(){this.elEvents&&j(this.manager.element,this.elEvents,this.domHandler),this.winEvents&&j(a,this.winEvents,this.domHandler)}};var Bb={mousedown:nb,mousemove:ob,mouseup:pb,mouseout:qb},Cb="mousedown",Db="mousemove mouseout mouseup";f(F,s,{handler:function(a){var b=Bb[a.type];if(b&nb&&0===a.button&&(this.pressed=!0),b&ob&&1!==a.which&&(b=pb),this.pressed&&this.allow){var c=a.relatedTarget||a.toElement||a.target;"mouseout"==a.type&&"HTML"!=c.nodeName&&(b=ob),b&(pb|qb)&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:kb,srcEvent:a})}}});var Eb={pointerdown:nb,pointermove:ob,pointerup:pb,pointercancel:qb,pointerout:qb},Fb={2:ib,3:jb,4:kb,5:lb},Gb="pointerdown pointermove pointerup pointercancel",Hb="pointerout";a.MSPointerEvent&&(Gb="MSPointerDown MSPointerMove MSPointerUp MSPointerCancel",Hb="MSPointerOut"),f(G,s,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Eb[d],f=Fb[a.pointerType]||a.pointerType,g=a.relatedTarget||a.toElement||a.target;"pointerout"==d&&"HTML"!=g.nodeName&&(e=ob),e&nb&&(0===a.button||f==ib)?b.push(a):e&(pb|qb)&&(c=!0);var h=n(b,a.pointerId,"pointerId");0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Ib={touchstart:nb,touchmove:ob,touchend:pb,touchcancel:qb},Jb="touchstart touchmove touchend touchcancel";f(H,s,{handler:function(a){var b=I(a);this.callback(this.manager,Ib[a.type],{pointers:b[0],changedPointers:b[1],pointerType:ib,srcEvent:a})}}),f(J,s,{handler:function(a,b,c){var d=c.pointerType==ib,e=c.pointerType==kb;if(d)this.mouse.allow=!1;else if(e&&!this.mouse.allow)return;b&(pb|qb)&&(this.mouse.allow=!0),this.callback(a,b,c)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Kb=q(document.body.style,"touchAction"),Lb=Kb!==b,Mb="compute",Nb="auto",Ob="manipulation",Pb="none",Qb="pan-x",Rb="pan-y";K.prototype={set:function(a){a==Mb&&(a=this.compute()),Lb&&(this.manager.element.style[Kb]=a),this.actions=a.toLowerCase()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a,b=[];return c(this.manager.recognizers,function(a){h(a.options.enable,a)&&(b=b.concat(a.getTouchAction()))}),a=p(b).join(" "),L(a)},preventDefaults:function(a){if(!Lb){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=l(d,Pb),f=l(d,Rb),g=l(d,Qb);return e||f&&g||f&&c&wb||g&&c&xb?this.preventSrc(b):void 0}},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var Sb=1,Tb=2,Ub=4,Vb=8,Wb=Vb,Xb=16,Yb=32;M.prototype={set:function(a,b){this.options[a]=b,this.manager&&this.manager.touchAction.update()},emit:function(a){this.manager.emit(this.options.event+N(this.state),a)},recognizeWith:function(a){var b=this.simultaneous;return a=P(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return a=P(a,this),delete this.simultaneous[a.id],this},requireFailure:function(a){var b=this.requireFail;return a=P(a,this),-1===n(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){a=P(a,this);var b=n(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},recognize:function(a){for(var b=!0,c=0;c<this.requireFail.length;c++)if(!(this.requireFail[c].state&Yb)){b=!1;break}var e=d({},a);return b&&h(this.options.enable,[this,e])?(this.state&(Wb|Xb|Yb)&&(this.state=Sb),this.state=this.process(e),void(this.state&(Tb|Ub|Vb|Xb)&&this.emit(e))):(this.reset(),void(this.state=Yb))},process:function(){},getTouchAction:function(){},reset:function(){}},f(Q,M,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(Tb|Ub),e=this.attrTest(a);return d&&(c&qb||!e)?b|Xb:d||e?c&pb?b|Vb:b&Tb?b|Ub:b|Tb:Yb}}),f(R,Q,{defaults:{event:"pan",threshold:10,pointers:1,direction:yb},getTouchAction:function(){var a=this.options.direction;if(a===yb)return[Pb];var b=[];return a&wb&&b.push(Rb),a&xb&&b.push(Qb),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&wb?(e=0===f?rb:0>f?sb:tb,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?rb:0>g?ub:vb,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return Q.prototype.attrTest.call(this,a)&&this.state&Tb||!(this.state&Tb)&&this.directionTest(a)},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY,this._super.emit.call(this,a);var b=O(a.direction);b&&this.manager.emit(this.options.event+b,a)}}),f(S,Q,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Qb,Rb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&Tb)},emit:function(a){if(this._super.emit.call(this,a),1!==a.scale){var b=a.scale<1?"in":"out";this.manager.emit(this.options.event+b,a)}}}),f(T,M,{defaults:{event:"press",pointers:1,time:500,threshold:10},getTouchAction:function(){return[Nb]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,e=a.deltaTime>b.time;return this._input=a,!d||!c||a.eventType&(pb|qb)&&!e?this.reset():a.eventType&nb&&(this.reset(),this._timer=setTimeout(g(this.emit,this),b.time)),Yb},reset:function(){clearTimeout(this._timer)},emit:function(){this.manager.emit(this.options.event,this._input)}}),f(U,Q,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Pb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&Tb)}}),f(V,Q,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:wb|xb,pointers:1},getTouchAction:function(){return R.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(wb|xb)?b=a.velocity:c&wb?b=a.velocityX:c&xb&&(b=a.velocityY),this._super.attrTest.call(this,a)&&b>this.options.velocity&&a.eventType&pb},emit:function(a){this.manager.emit(this.options.event,a);var b=O(a.direction);b&&this.manager.emit(this.options.event+b,a)}}),f(W,M,{defaults:{event:"tap",pointers:1,taps:1,interval:300,delay:0,time:250,movementBetween:10,movementWhile:2},getTouchAction:function(){return[Ob]},process:function(a){var b=this,c=this.options,d=a.pointers.length===c.pointers,e=a.distance<c.movementWhile,f=a.deltaTime<c.time;if(a.eventType&pb&&e&&f&&d){var g=this.pTime?a.timeStamp-this.pTime<c.interval:!0,h=!this.pCenter||B(this.pCenter,a.center)<c.movementBetween;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a,this.reset();var i=this.count%c.taps;if(0===i)return c.delay?(this._timer=setTimeout(function(){b.state=Wb,b.emit()},c.delay),Tb):Wb;if(!c.delay)return Tb}return Yb},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Wb&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),X.VERSION="2.0.0dev",X.defaults={domEvents:!1,touchAction:Mb,enable:!0,recognizers:[[U,{enable:!1}],[S,{enable:!1},"rotate"],[V,{direction:wb}],[R,{direction:wb},"swipe"],[W],[W,{event:"doubletap",taps:2},"tap"],[T]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Y.prototype={set:function(a,b){this.options[a]=b},stop:function(a){this.session.stopped=a?2:1},recognize:function(a){if(!this.session.stopped){this.touchAction.preventDefaults(a);var b,c=this.session,d=c.curRecognizer;(!d||d&&d.state&Wb)&&(d=c.curRecognizer=null);for(var e=0,f=this.recognizers.length;f>e;e++)b=this.recognizers[e],2===this.session.stopped||d&&b!=d&&!b.canRecognizeWith(d)?b.reset():b.recognize(a),!d&&b.state&(Tb|Ub|Vb)&&(d=c.curRecognizer=b)}},get:function(a){if(a instanceof M)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){var b=this.recognizers;a=this.get(a),b.splice(n(b,a),1),this.touchAction.update()},on:function(a,b){var d=this.handlers;return c(m(a),function(a){d[a]=d[a]||[],d[a].push(b)}),this},off:function(a,b){var d=this.handlers;return c(m(a),function(a){b?d[a].splice(n(d[a],b),1):delete d[a]}),this},emit:function(a,b){this.options.domEvents&&$(a,b);var c=this.handlers[a];if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0,e=c.length;e>d;d++)c[d](b)}},destroy:function(){Z(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},X.INPUT_START=nb,X.INPUT_MOVE=ob,X.INPUT_END=pb,X.INPUT_CANCEL=qb,X.STATE_POSSIBLE=Sb,X.STATE_BEGAN=Tb,X.STATE_CHANGED=Ub,X.STATE_ENDED=Vb,X.STATE_RECOGNIZED=Wb,X.STATE_CANCELLED=Xb,X.STATE_FAILED=Yb,X.DIRECTION_NONE=rb,X.DIRECTION_LEFT=sb,X.DIRECTION_RIGHT=tb,X.DIRECTION_UP=ub,X.DIRECTION_DOWN=vb,X.DIRECTION_HORIZONTAL=wb,X.DIRECTION_VERTICAL=xb,X.DIRECTION_ALL=wb|xb,X.Manager=Y,X.Input=s,X.TouchAction=K,X.Recognizer=M,X.AttrRecognizer=Q,X.Tap=W,X.Pan=R,X.Swipe=V,X.Pinch=S,X.Rotate=U,X.Press=T,X.on=i,X.off=j,X.each=c,X.merge=e,X.extend=d,X.inherit=f,X.bindFn=g,X.prefixed=q,typeof define==ab&&define.amd?define(function(){return X}):typeof module!=bb&&module.exports?module.exports=X:a.Hammer=X}(window);
//# sourceMappingURL=hammer.min.map