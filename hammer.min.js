/*! Hammer.JS - v2.0.0dev - 2014-06-20
 * http://eightmedia.github.io/hammer.js
 *
 * Copyright (c) 2014 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */


!function(a,b){"use strict";function c(a,b){b=b||{};var c=new N(a,b);return d(c.options.recognizers,function(a){var b=c.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2])}),c}function d(a,c,d){var e,f;if(a.forEach)a.forEach(c,d);else if(a.length!==b)for(e=0,f=a.length;f>e;e++)c.call(d,a[e],e,a);else for(e in a)a.hasOwnProperty(e)&&c.call(d,a[e],e,a)}function e(a,c,d){for(var e in c)c.hasOwnProperty(e)&&(!d||d&&a[e]===b)&&(a[e]=c[e]);return a}function f(a,b){return e(a,b,!0)}function g(a,b,c){var d,f=b.prototype;if(Object.create)d=a.prototype=Object.create(f),d.constructor=a;else{e(a,parent);var g=function(){this.constructor=a};g.prototype=f,d=a.prototype=new g}c&&e(d,c),d._super=f}function h(a,b){return function(){return a.apply(b,arguments)}}function i(b,c){return typeof b==$?b.apply(c?c[0]||a:a,c):b}function j(a,b,c){d(m(b),function(b){a.addEventListener(b,c,!1)})}function k(a,b,c){d(m(b),function(b){a.removeEventListener(b,c,!1)})}function l(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function m(a){return a.trim().split(/\s+/g)}function n(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0,e=a.length;e>d;d++)if(c&&a[d][c]==b||!c&&a[d]===b)return d;return-1}function o(a){return Array.prototype.slice.call(a,0)}function p(a,b){for(var c=[],d=[],e=0,f=a.length;f>e;e++)n(d,a[e][b])<0&&c.push(a[e]),d[e]=a[e][b];return c}function q(a,c){var d,e,f,g=c[0].toUpperCase()+c.slice(1);for(f=0;f<Z.length;f++)if(d=Z[f],e=d?d+g:c,e in a)return e;return b}function r(){return bb++}function s(b,c){var d=this;this.manager=b,this.callback=c,this.domHandler=function(a){i(d.manager.options.enable,[d.manager])&&d.handler(a)},this.elEvents&&j(this.manager.element,this.elEvents,this.domHandler),this.winEvents&&j(a,this.winEvents,this.domHandler)}function t(a){var b;return new(b=db?G:fb?H:eb?J:F)(a,u)}function u(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&kb&&d-e===0,g=b&mb&&d-e===0;c.isFirst=f,c.isFinal=g,f&&(a.session={}),c.eventType=b,v(a,c),a.recognize(c)}function v(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=x(b)),e>1&&!c.firstMultiple?c.firstMultiple=x(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=y(d);b.center=i,b.angle=C(h,i),b.distance=B(h,i),b.direction=A(h,i),b.timeStamp=b.srcEvent.timeStamp,b.deltaTime=b.timeStamp-f.timeStamp,b.deltaX=i.x-h.x,b.deltaY=i.y-h.y,b.scale=g?E(g.pointers,d):1,b.rotation=g?D(g.pointers,d):0;var j=a.element;l(b.srcEvent.target,j)&&(j=b.srcEvent.target),b.target=j,w(c,b)}function w(a,b){var c=a.lastInterval;c||(c=a.lastInterval=x(b));var d=b.timeStamp-c.timeStamp;if(d>jb||!c.velocity){var e=b.deltaX-c.deltaX,f=b.deltaY-c.deltaY;c=a.lastInterval=x(b),c.velocity=z(d,e,f)}var g=c.velocity;b.velocity=Math.max(g.x,g.y),b.velocityX=g.x,b.velocityY=g.y}function x(a){for(var b=[],c=0;c<a.pointers.length;c++)b[c]={clientX:ab(a.pointers[c].clientX),clientY:ab(a.pointers[c].clientY)};return{timeStamp:a.srcEvent.timeStamp,pointers:b,center:y(b),deltaX:a.deltaX,deltaY:a.deltaY}}function y(a){var b=a.length;if(1===b)return{x:ab(a[0].clientX),y:ab(a[0].clientY)};for(var c=0,d=0,e=0;b>e;e++)c+=a[e].clientX,d+=a[e].clientY;return{x:ab(c/b),y:ab(d/b)}}function z(a,b,c){return{x:Math.abs(b/a)||0,y:Math.abs(c/a)||0}}function A(a,b){var c=a.x-b.x,d=a.y-b.y;return c===d?ob:Math.abs(c)>=Math.abs(d)?c>0?pb:qb:d>0?rb:sb}function B(a,b,c){c||(c=vb);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function C(a,b,c){c||(c=vb);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function D(a,b){return C(b[1],b[0],wb)-C(a[1],a[0],wb)}function E(a,b){return B(b[0],b[1],wb)/B(a[0],a[1],wb)}function F(){this.elEvents=yb,this.winEvents=zb,this.allow=!0,this.pressed=!1,s.apply(this,arguments)}function G(){this.elEvents=Cb,this.winEvents=Db,s.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function H(){this.elEvents=Fb,s.apply(this,arguments)}function I(a){var b=o(a.changedTouches),c=o(a.touches).concat(b);return[p(c,"identifier"),b]}function J(){s.apply(this,arguments),this._handler=h(this.handler,this),this.touch=new H(this.manager,this._handler),this.mouse=new F(this.manager,this._handler)}function K(a,b){this.element=a,this.domEvents=b,this.handlers={}}function L(a,b){var c=document.createEvent("Event");c.initEvent(a,!0,!0),c.gesture=b,b.target.dispatchEvent(c)}function M(a,b){this.manager=a,this.set(b)}function N(a,d){d=d||{},d.touchAction=d.touchAction||a.style.touchAction||b,this.options=f(d,c.defaults),K.call(this,a,this.options.domEvents),this.session={},this.recognizers=[],this.input=t(this),this.touchAction=new M(this,this.options.touchAction),O(this,!0)}function O(a,b){var c=a.element,e=a.options.cssProps;d(e,function(a,d){c.style[q(c.style,d)]=b?a:""});var f=b&&function(){return!1};"none"==e.userSelect&&(c.onselectstart=f),"none"==e.userDrag&&(c.ondragstart=f)}function P(a){this.id=r(),this.manager=null,this.options=f(a||{},this.defaults||{}),this.options.enable=this.options.enable===b?!0:this.options.enable,this.state=Ob,this.simultaneous={},this.requireFail=[]}function Q(a){return a&Nb?"cancel":a&Lb?"end":a&Kb?"":a&Jb?"start":""}function R(a,b){var c=b.manager;return c?c.get(a):a}function S(){P.apply(this,arguments)}function T(){S.apply(this,arguments),this._pX=null,this._pY=null}function U(){S.apply(this,arguments)}function V(){P.apply(this,arguments),this._timer=null,this._input=null}function W(){S.apply(this,arguments)}function X(){S.apply(this,arguments)}function Y(){P.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this.count=0}c.VERSION="2.0.0dev",c.defaults={domEvents:!1,touchAction:"pan-y",enable:!0,recognizers:[[W],[U,null,"rotate"],[T],[X,null,"pan"],[Y],[Y,{event:"doubletap",taps:2},"tap"],[V]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Z=["","webkit","moz","MS","ms","o"],$="function",_="undefined",ab=Math.round,bb=1,cb=/mobile|tablet|ip(ad|hone|od)|android/i,db=q(a,"PointerEvent")!==b,eb="ontouchstart"in a,fb=eb&&cb.test(navigator.userAgent),gb="touch",hb="pen",ib="mouse",jb=50,kb=1,lb=2,mb=4,nb=8,ob=1,pb=2,qb=4,rb=8,sb=16,tb=pb|qb,ub=rb|sb,vb=["x","y"],wb=["clientX","clientY"];s.prototype={destroy:function(){this.elEvents&&k(this.manager.element,this.elEvents,this.domHandler),this.winEvents&&k(a,this.winEvents,this.domHandler)}};var xb={mousedown:kb,mousemove:lb,mouseup:mb,mouseout:nb},yb="mousedown",zb="mousemove mouseout mouseup";g(F,s,{handler:function(a){var b=xb[a.type];if(b&kb&&0===a.button&&(this.pressed=!0),b&lb&&1!==a.which&&(b=mb),this.pressed&&this.allow){var c=a.relatedTarget||a.toElement||a.target;"mouseout"==a.type&&"HTML"!=c.nodeName&&(b=lb),b&(mb|nb)&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:ib,srcEvent:a})}}});var Ab={pointerdown:kb,pointermove:lb,pointerup:mb,pointercancel:nb,pointerout:nb},Bb={2:gb,3:hb,4:ib},Cb="pointerdown pointermove pointerup pointercancel",Db="pointerout";a.MSPointerEvent&&(Cb="MSPointerDown MSPointerMove MSPointerUp MSPointerCancel",Db="MSPointerOut"),g(G,s,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Ab[d],f=Bb[a.pointerType]||a.pointerType,g=a.relatedTarget||a.toElement||a.target;"pointerout"==d&&"HTML"!=g.nodeName&&(e=lb),e&kb&&(0===a.button||f==gb)?b.push(a):e&(mb|nb)&&(c=!0);var h=n(b,a.pointerId,"pointerId");0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Eb={touchstart:kb,touchmove:lb,touchend:mb,touchcancel:nb},Fb="touchstart touchmove touchend touchcancel";g(H,s,{handler:function(a){var b=I(a);this.callback(this.manager,Eb[a.type],{pointers:b[0],changedPointers:b[1],pointerType:gb,srcEvent:a})}}),g(J,s,{handler:function(a,b,c){var d=c.pointerType==gb,e=c.pointerType==ib;if(d)this.mouse.allow=!1;else if(e&&!this.mouse.allow)return;b&(mb|nb)&&(this.mouse.allow=!0),this.callback(a,b,c)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}}),K.prototype={on:function(a,b){var c=this.handlers;return d(m(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this},off:function(a,b){var c=this.handlers;return d(m(a),function(a){b?c[a].splice(n(c[a],b),1):delete c[a]}),this},destroy:function(){this.handlers={}},emit:function(a,b){this.domEvents&&L(a,b);var c=this.handlers[a];if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;d++)c[d](b)}}};var Gb=q(document.body.style,"touchAction"),Hb=Gb!==b;M.prototype={set:function(a){Hb&&(this.manager.element.style[Gb]=a),this.actions=m(a.toLowerCase())},update:function(a){if(!Hb){var b=a.srcEvent,c=a.direction;if(this.manager.session.prevented)return void b.preventDefault();for(var d=this.actions,e=0;e<d.length;e++)"none"==d[e]?this.prevent(b):"pan-y"==d[e]&&c&tb?this.prevent(b):"pan-x"==d[e]&&c&ub&&this.prevent(b)}},prevent:function(a){this.manager.session.prevented=!0,a.preventDefault()}},g(N,K,{set:function(a,b){this.options[a]=b},stop:function(){this.session.stopped=!0},recognize:function(a){if(!this.session.stopped){this.touchAction.update(a);var b,c=this.session,d=c.curRecognizer;(!d||d&&d.state&Mb)&&(d=c.curRecognizer=null);for(var e=0;e<this.recognizers.length;e++)b=this.recognizers[e],!d||b==d||b.canRecognizeWith(d)?b.recognize(a):b.reset(),!d&&b.state&(Jb|Kb|Lb)&&(d=c.curRecognizer=b)}},get:function(a){if(a instanceof P)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){return this.recognizers.push(a),a.manager=this,a},remove:function(a){var b=this.recognizers;a=this.get(a),b.splice(n(b,a),1)},destroy:function(){this._super.destroy.call(this),O(this,!1),this.session={},this.input.destroy(),this.element=null}});var Ib=1,Jb=2,Kb=4,Lb=8,Mb=Lb,Nb=16,Ob=32;P.prototype={set:function(a,b){this.options[a]=b},emit:function(a){this.manager.emit(this.options.event+Q(this.state),a)},recognizeWith:function(a){return a=R(a,this),this.canRecognizeWith(a)||(this.simultaneous[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return a=R(a,this),this.canRecognizeWith(a)&&(delete this.simultaneous[a.id],a.dropRecognizeWith(this)),this},requireFailure:function(a){return a=R(a,this),this.requireFail.push(a),this},dropRequireFailure:function(a){a=R(a,this);var b=n(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},recognize:function(a){for(var b=!0,c=0;c<this.requireFail.length;c++)if(!(this.requireFail[c].state&Ob)){b=!1;break}return b&&i(this.options.enable,[this,a])?(this.state&(Mb|Nb|Ob)&&(this.state=Ib),this.state=this.test(a),void(this.state&(Jb|Kb|Lb|Nb)&&this.emit(a))):(this.reset(),void(this.state=Ob))},reset:function(){}},g(S,P,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},test:function(a){var b=this.state,c=a.eventType,d=b&(Jb|Kb),e=this.attrTest(a);return d&&(c&nb||!e)?b|Nb:d||e?c&mb?b|Lb:b&Jb?b|Kb:b|Jb:Ob}}),g(T,S,{defaults:{event:"pan",threshold:10,pointers:1,direction:tb|ub},directionTest:function(a){var b=this.options,c=!0,d=a.distance;if(!(a.direction&b.direction)){var e=a.deltaX,f=a.deltaY;b.direction&tb?(a.direction=0===e?ob:0>e?pb:qb,c=e!=this._pX,d=Math.abs(a.deltaX)):(a.direction=0===f?ob:0>f?rb:sb,c=f!=this._pY,d=Math.abs(a.deltaY))}return c&&d>b.threshold&&a.direction&b.direction},attrTest:function(a){return S.prototype.attrTest.call(this,a)&&this.state&Jb||!(this.state&Jb)&&this.directionTest(a)},emit:function(a){this._pX=a.deltaX,this._pY=a.deltaY,this._super.emit.call(this,a),this.manager.emit(this.options.event+a.direction,a)}}),g(U,S,{defaults:{event:"pinch",threshold:0,pointers:2},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(1-a.scale)>this.options.threshold||this.state&Jb)},emit:function(a){this._super.emit.call(this,a);var b=a.scale<1?"in":"out";this.manager.emit(this.options.event+b,a)}}),g(V,P,{defaults:{event:"press",pointers:1,time:500,threshold:10},test:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,e=a.deltaTime>b.time;return this._input=a,!d||!c||a.eventType&(mb|nb)&&!e?this.reset():a.eventType&kb&&(this.reset(),this._timer=setTimeout(h(this.emit,this),b.time)),Ob},reset:function(){clearTimeout(this._timer)},emit:function(){this.manager.emit(this.options.event,this._input)}}),g(W,S,{defaults:{event:"rotate",threshold:0,pointers:2},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(1-a.rotation)>this.options.threshold||this.state&Jb)}}),g(X,S,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:tb|ub,pointers:1},attrTest:function(a){var b,c=this.options.direction;return c&(tb|ub)?b=a.velocity:c&tb?b=a.velocityX:c&ub&&(b=a.velocityY),!!(T.prototype.directionTest.call(this,a)&&b>this.options.velocity&&a.eventType&mb)},emit:function(a){this.manager.emit(this.options.event,a),this.manager.emit(this.options.event+a.direction,a)}}),g(Y,P,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,movementBetween:10,movementWhile:2},test:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.movementWhile,e=a.deltaTime<b.time;if(a.eventType&mb&&d&&e&&c){var f=this.pTime?a.timeStamp-this.pTime<b.interval:!0,g=!this.pCenter||B(this.pCenter,a.center)<b.movementBetween;this.pTime=a.timeStamp,this.pCenter=a.center,g&&f?this.count+=1:this.count=1;var h=this.count%b.taps===0;return h?Mb:Jb}return Ob},emit:function(a){this.state&Mb&&(a.tapCount=this.count,this.manager.emit(this.options.event,a))}}),c.INPUT_START=kb,c.INPUT_MOVE=lb,c.INPUT_END=mb,c.INPUT_CANCEL=nb,c.STATE_POSSIBLE=Ib,c.STATE_BEGAN=Jb,c.STATE_CHANGED=Kb,c.STATE_ENDED=Lb,c.STATE_RECOGNIZED=Mb,c.STATE_CANCELLED=Nb,c.STATE_FAILED=Ob,c.DIRECTION_NONE=ob,c.DIRECTION_LEFT=pb,c.DIRECTION_RIGHT=qb,c.DIRECTION_UP=rb,c.DIRECTION_DOWN=sb,c.DIRECTION_HORIZONTAL=tb,c.DIRECTION_VERTICAL=ub,c.DIRECTION_ALL=tb|ub,c.EventEmitter=K,c.Manager=N,c.Input=s,c.TouchAction=M,c.Recognizer=P,c.AttrRecognizer=S,c.Tap=Y,c.Pan=T,c.Swipe=X,c.Pinch=U,c.Rotate=W,c.Press=V,c.on=j,c.off=k,c.each=d,c.merge=f,c.extend=e,c.inherit=g,c.bindFn=h,c.prefixed=q,typeof define==$&&define.amd?define(function(){return c}):typeof module!=_&&module.exports?module.exports=c:a.Hammer=c}(window);
//# sourceMappingURL=hammer.min.map